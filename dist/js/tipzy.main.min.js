/**
* tipzy
* v1.0.0
* 2016-07-03 02:46:54 PM 
*/ 

var _tipzy=function(a,b){var c={windowPadding:10,_tips:{},pageStats:{}},d=function(a,b){return 100*b/a},e=function(){var a="_tipzy-"+Math.round(1e5*Math.random());return b("#"+a).length<=0?a:e()},f=function(a){switch(!0){case void 0!==a.pageX:return{x:a.pageX,y:a.pageY};case void 0!==a.originalEvent&&void 0!==a.originalEvent.pageX:return{x:a.originalEvent.pageX,y:a.originalEvent.pageY};case void 0!==a.touches&&void 0!==a.touches[0]:return{x:a.touches[0].pageX,y:a.touches[0].pageY};case void 0!==a.originalEvent&&void 0!==a.originalEvent.touches:return{x:a.originalEvent.touches[0].pageX,y:a.originalEvent.touches[0].pageY};default:return{x:0,y:0}}},g=function(a,g){var h={UID:e(),$anchor:a,$tip:b('<div class="_tipzy">'),content:"",anchorDims:{},tipDims:{},state:{parsed:!1}};return h.setContent=function(b,c){switch(c=void 0!==c&&c,!0){case void 0!==b:h.content=b;break;case void 0!==a.data("tipzycontent"):h.content=a.data("tipzycontent");break;case void 0!==a.attr("title"):h.content=a.attr("title")}h.$tip.html('<div class="_tipzy_content">'+h.content+"</div>"),c&&(h.state.parsed||h.parse(h.content),h.updateTipDims(),h.position())},h.parse=function(c){h.state.parsed||(h.state.parsed=!0,a.addClass("_tipzy_bound"),h.setContent(c),h.$tip.attr({id:h.UID,role:"tooltip","aria-hidden":"true"}).on("touchstart",function(a){a.stopPropagation()}).on("mouseover focus",function(a){h.show(void 0,!1)}).on("mouseleave blur",function(a){h.hide()}),b("body").append(h.$tip),a.attr({"aria-describedby":h.UID,"data-tipzytitle":a.attr("title")}).removeAttr("title").on("focus mouseover",function(a){h.updateAnchorDims(),h.show(a)}).on("blur mouseout",function(a){h.hide()}),h.updateAnchorDims(),h.updateTipDims(),h.position())},h.position=function(a){a=void 0!==a&&f(a);var b=h.anchorDims.x+.5*h.anchorDims.w,e=a?a.x:b,g=50,i="bottom";switch(h.tipDims.x=e-.5*h.tipDims.w,h.tipDims.y=h.anchorDims.y-h.tipDims.tipyOffset-h.tipDims.h,!0){case h.tipDims.x<=c.pageStats.L:h.tipDims.x=c.pageStats.L,g=5*Math.floor(d(h.tipDims.x+h.tipDims.w,h.anchorDims.x+.5*h.anchorDims.w)/5);break;case h.tipDims.x+h.tipDims.w-c.pageStats.L>=c.pageStats.R:h.tipDims.x=c.pageStats.R-h.tipDims.w,g=5*Math.floor(d(h.tipDims.w,h.anchorDims.x+.5*h.anchorDims.w-h.tipDims.x)/5)}h.tipDims.y<c.pageStats.T&&(i="top",h.tipDims.y=h.anchorDims.y+h.anchorDims.h+h.tipDims.tipyOffset),h.$tip.css({left:h.tipDims.x,top:h.tipDims.y}).attr({"data-tipzyleft":Math.abs(g)+"%","data-tipzyv":i})},h.updateTipDims=function(){h.tipDims={w:h.$tip.outerWidth(),h:h.$tip.outerHeight(),tipxOffset:.5*h.anchorDims.w,tipyOffset:5}},h.updateAnchorDims=function(){h.anchorDims={w:a[0].offsetWidth,h:a[0].offsetHeight,x:a.offset().left,y:a.offset().top}},h.show=function(a,b){b=void 0==b||b,h.updateTipDims(),b&&h.position(a),h.$tip.attr("aria-hidden","false")},h.hide=function(){h.$tip.attr("aria-hidden","true")},h.parse(g),h};return c.updatePageStats=function(){c.pageStats={T:a.pageYOffset+c.windowPadding,R:a.innerWidth-c.windowPadding,B:a.innerHeight-c.windowPadding,L:a.pageXOffset+c.windowPadding,W:a.innerWidth-2*c.windowPadding,H:a.innerHeight-2*c.windowPadding}},c.hideAll=function(){b.each(c._tips,function(a,b){b.hide()})},c.updateAllAnchors=function(){b.each(c._tips,function(a,b){b.updateAnchorDims()})},c.addTip=function(a,b){if(!(a.length<=0)){var d=new g(a,b);console.log("parse : ",d),c._tips[d.UID]=d}},c.parseTips=function(){b("._tipzy_anchor:not('._tipzy_bound')").each(function(){var a=b(this);a.inView(0)&&c.addTip(a)})},c.init=function(a){a=void 0!==a?a:{},c.windowPadding=void 0!==a.windowPadding?a.windowPadding:c.windowPadding,c.updatePageStats(),c.parseTips(),b(document).ready(function(){b(window).on("touchstart",function(a){c.hideAll()}).on("scrollStopped",function(a){c.updatePageStats(),c.parseTips()}).on("resizeStopped",function(a){c.updatePageStats(),c.parseTips()})})},c}(window,jQuery);